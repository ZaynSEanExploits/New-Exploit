--[[VARIABLE DEFINITION ANOMALY DETECTED, DECOMPILATION OUTPUT POTENTIALLY INCORRECT]]--
-- Decompiled with the Synapse X Luau decompiler.

local v1 = require(game.ReplicatedStorage:WaitForChild("Framework"):WaitForChild("Library"));
while not v1.Loaded do
	game:GetService("RunService").Heartbeat:Wait();
end;
local l__Bank__2 = v1.GUI.Bank;
local u1 = 0;
local u2 = {};
local u3 = false;
local u4 = false;
local u5 = nil;
function Deposit()
	local v3 = nil;
	local v4 = 0 < u1;
	local v5 = 0 < #u2;
	if u3 then
		if u4 then
			if not v5 then
				if not v4 then
					return;
				end;
			end;
		else
			return;
		end;
	else
		return;
	end;
	local v6 = "";
	if v5 then
		if v4 then
			if 1 < #u2 then
				local v7 = "s";
			else
				v7 = "";
			end;
			v6 = "Are you sure you want to deposit " .. v1.Functions.Commas(#u2) .. " Pet" .. v7 .. " and " .. v1.Functions.Commas(u1) .. " Diamonds?";
		elseif v5 then
			if 1 < #u2 then
				local v8 = "s";
			else
				v8 = "";
			end;
			v6 = "Are you sure you want to deposit " .. v1.Functions.Commas(#u2) .. " Pet" .. v8 .. "?";
		elseif v4 then
			v6 = "Are you sure you want to deposit " .. v1.Functions.Commas(u1) .. " Diamonds?";
		end;
	elseif v5 then
		if 1 < #u2 then
			v8 = "s";
		else
			v8 = "";
		end;
		v6 = "Are you sure you want to deposit " .. v1.Functions.Commas(#u2) .. " Pet" .. v8 .. "?";
	elseif v4 then
		v6 = "Are you sure you want to deposit " .. v1.Functions.Commas(u1) .. " Diamonds?";
	end;
	if v1.Message.New(v6, true) then
		Processing(true, true);
		v3 = u5.BUID;
		local v9, v10 = v1.Network.Invoke("Bank Deposit", v3, u2, u1);
		Processing(false);
		if v9 then

		else
			v1.Message.New(v10 and "Something went wrong. Try again!");
			return;
		end;
	else
		return;
	end;
	v1.Audio.Play("rbxassetid://8168485698", script);
	v1.Message.New("\226\156\133 Success!");
	u3 = false;
	UpdateDeposit();
	UpdateBank(v3);
end;
local u6 = 0;
local u7 = {};
local u8 = false;
function Withdraw()
	local v11 = nil;
	local v12 = 0 < u6;
	local v13 = 0 < #u7;
	if u8 then
		if u4 then
			if not v13 then
				if not v12 then
					return;
				end;
			end;
		else
			return;
		end;
	else
		return;
	end;
	local v14 = "";
	if v13 then
		if v12 then
			if 1 < #u7 then
				local v15 = "s";
			else
				v15 = "";
			end;
			v14 = "Are you sure you want to withdraw " .. v1.Functions.Commas(#u7) .. " Pet" .. v15 .. " and " .. v1.Functions.Commas(u6) .. " Diamonds?";
		elseif v13 then
			if 1 < #u7 then
				local v16 = "s";
			else
				v16 = "";
			end;
			v14 = "Are you sure you want to withdraw " .. v1.Functions.Commas(#u7) .. " Pet" .. v16 .. "?";
		elseif v12 then
			v14 = "Are you sure you want to withdraw " .. v1.Functions.Commas(u6) .. " Diamonds?";
		end;
	elseif v13 then
		if 1 < #u7 then
			v16 = "s";
		else
			v16 = "";
		end;
		v14 = "Are you sure you want to withdraw " .. v1.Functions.Commas(#u7) .. " Pet" .. v16 .. "?";
	elseif v12 then
		v14 = "Are you sure you want to withdraw " .. v1.Functions.Commas(u6) .. " Diamonds?";
	end;
	if v1.Message.New(v14, true) then
		Processing(true, true);
		v11 = u5.BUID;
		local v17, v18 = v1.Network.Invoke("Bank Withdraw", v11, u7, u6);
		Processing(false);
		if v17 then

		else
			v1.Message.New(v18 and "Something went wrong. Try again!");
			return;
		end;
	else
		return;
	end;
	v1.Audio.Play("rbxassetid://8168485924", script);
	v1.Message.New("\226\156\133 Success!");
	u8 = false;
	UpdateWithdraw();
	UpdateBank(v11);
end;
function UpgradeBank(p1)
	local v19 = nil;
	local v20 = nil;
	if not u4 then
		return;
	end;
	v19 = u5.Tier + 1;
	v20 = u5.BUID;
	if p1 then
		local v21, v22 = v1.Network.Invoke("Prompt Upgrade Bank", v20);
		if v21 then
			v1.Functions.PromptPurchase(v1.Directory.Banks[v19].ProductId, true);
			return;
		else
			v1.Message.New(v22 and "Something went wrong. Try again later!");
			return;
		end;
	end;
	if v1.Message.New("Are you sure you want to upgrade your bank to Tier " .. v19 .. "?", true) then
		Processing(true);
		local v23, v24 = v1.Network.Invoke("Upgrade Bank", v20);
		Processing(false);
		if v23 then

		else
			v1.Message.New(v24 and "Something went wrong. Try again!");
			return;
		end;
	else
		return;
	end;
	v1.Audio.Play("rbxassetid://8167470240", script);
	v1.Message.New("\226\156\133 Success! Your bank is now Tier " .. v19 .. "!");
	GetBank(v20);
	UpdateSettings();
end;
function LeaveBank(p2)
	if v1.Message.New("Are you sure you want to leave this bank?", true) then
		Processing(true);
		local v25, v26 = v1.Network.Invoke("Leave Bank", p2 or u5.BUID);
		Processing(false);
		if v25 then
			GetMyBanks();
			UpdateSide();
			SwitchWindow("Empty");
			return;
		end;
		v1.Message.New(v26 and "Something went wrong. Try again!");
	end;
end;
function BuyBank()
	local v27 = nil;
	if v1.Message.New("This costs " .. v1.Functions.Commas(v1.Directory.Banks[1].Cost) .. " Diamonds. Are you sure?", true) then
		Processing(true);
		local v28 = nil;
		v27, v28 = v1.Network.Invoke("Buy Bank");
		Processing(false);
		if v27 then

		else
			v1.Message.New(v28 and "Something went wrong. Try again!");
			return;
		end;
	else
		return;
	end;
	v1.Audio.Play("rbxassetid://8167470240", script);
	v1.Message.New("\240\159\142\137 Congrats! You now own a bank account!");
	GetMyBanks();
	UpdateSide();
	UpdateBank(v27);
end;
function CancelOutgoingInvites()
	if v1.Message.New("Are you sure? This will cancel ALL outgoing invites.", true) then
		Processing(true);
		local v29, v30 = v1.Network.Invoke("Cancel Bank Outgoing Invites");
		Processing(false);
		if v29 then

		else
			v1.Message.New(v30 and "Something went wrong. Try again!");
			return;
		end;
	else
		return;
	end;
	v1.Message.New("Any outgoing invites are now canceled!");
end;
function DecideInvite(p3)
	if v1.Message.New("Do you want to accept this invite?", true) then

	else
		local v31, v32 = v1.Network.Invoke("Decline Bank Invite", p3);
		if v31 then
			GetMyInvites();
			UpdateSide();
		end;
		return;
	end;
	local v33, v34 = v1.Network.Invoke("Accept Bank Invite", p3);
	if v33 then

	else
		v1.Message.New(v34 and "Something went wrong. Try again!");
		return;
	end;
	v1.Message.New("Success! You are now a member.");
	GetMyBanks();
	GetMyInvites();
	UpdateSide();
	UpdateBank(p3);
end;
function InviteToBank(p4)
	local u9 = nil;
	if pcall(function()
		u9 = game.Players:GetUserIdFromNameAsync(p4 and "");
	end) then
		if not u9 then
			v1.Message.New("Couldn't find player. Are you sure that's the correct @?");
			return;
		end;
	else
		v1.Message.New("Couldn't find player. Are you sure that's the correct @?");
		return;
	end;
	if v1.Message.New("Are you sure you want to invite " .. p4 .. " to your bank? They will have access to your pets & diamonds.", true) then
		Processing(true);
		local v35, v36 = v1.Network.Invoke("Invite To Bank", u5.BUID, u9);
		Processing(false);
		if v35 then
			v1.Message.New("\240\159\147\169 Bank invite sent to " .. p4 .. "!");
		else
			v1.Message.New(v36 and "Something went wrong. Try again!");
		end;
	end;
end;
function KickMember(p5, p6)
	local v37 = nil;
	if v1.Message.New("Are you sure you want to kick " .. p6 .. " from your bank?", true) then
		Processing(true);
		v37 = u5.BUID;
		local v38, v39 = v1.Network.Invoke("Kick From Bank", v37, p5);
		Processing(false);
		if v38 then

		else
			v1.Message.New(v39 and "Something went wrong. Try again!");
			return;
		end;
	else
		return;
	end;
	v1.Message.New("\226\156\133 Player has been kicked.");
	GetBank(v37);
	UpdateSettings();
end;
function CollectInterest()
	local v40 = nil;
	if not u4 then
		return;
	end;
	Processing(true);
	local l__BUID__41 = u5.BUID;
	local v42 = nil;
	v42, v40 = v1.Network.Invoke("Collect Bank Interest", l__BUID__41);
	Processing(false);
	if v42 then

	else
		v1.Message.New(v40 and "Something went wrong. Try again!");
		return;
	end;
	v1.Audio.Play("rbxassetid://8345225819", script, 1, 1.5);
	v1.Signal.Fire("Rain Diamonds", 3);
	v1.Message.New("\240\159\146\142 " .. v1.Functions.Commas(v40.increase) .. " Diamonds has been added to your bank! Come back again in 24hr!");
	UpdateBank(l__BUID__41);
end;
local u10 = nil;
local u11 = 0;
local u12 = nil;
local u13 = false;
local u14 = false;
function UpdateBank(p7)
	local l__Bank__43 = l__Bank__2.Container.Bank;
	local l__Balance__44 = l__Bank__43.Bottom.Balance;
	local l__Top__45 = l__Bank__43.Top;
	local l__Pets__15 = l__Bank__43.Pets;
	local function v46(p8)
		local l__Processing__47 = l__Bank__2.Container.Bank.Processing;
		if p8 then
			if not u10 then

			else
				if u10 then
					u10();
					u10 = nil;
					l__Processing__47.Visible = false;
					l__Pets__15.Visible = true;
				end;
				return;
			end;
		else
			if u10 then
				u10();
				u10 = nil;
				l__Processing__47.Visible = false;
				l__Pets__15.Visible = true;
			end;
			return;
		end;
		u10 = v1.GIF.Create(l__Processing__47.GIF, { 100, 100 }, { 5, 6 }, 28, 0.65, true);
		l__Processing__47.Visible = true;
		l__Bank__43.NoPets.Visible = false;
		l__Pets__15.Visible = false;
	end;
	if p7 ~= u11 then
		v46(true);
		u11 = p7;
		l__Top__45.PetsAm.Text = "";
		l__Balance__44.Amount.Text = "";
		l__Bank__43.Pets.CanvasPosition = Vector2.new();
	end;
	local v48 = nil;
	if p7 then
		v48 = GetBank(p7);
		u8 = false;
		UpdateWithdraw();
	end;
	if not u4 then
		local v49, v50, v51 = ipairs(l__Pets__15:GetChildren());
		while true do
			local v52, v53 = v49(v50, v51);
			if v52 then

			else
				break;
			end;
			v51 = v52;
			if v53:GetAttribute("PetId") then
				v53:Destroy();
			end;		
		end;
		if v48 then
			if string.find(v48, "banned") then
				u12 = p7;
				SwitchWindow("Banned");
			end;
		end;
		return;
	end;
	SwitchWindow("Bank");
	UpdateSide();
	local v54 = {};
	l__Bank__43.Bottom.Settings.Visible = u5.Owner == (v1.LocalPlayer:GetAttribute("CustomUserId") or v1.LocalPlayer.UserId);
	local l__Search__55 = l__Bank__43.Top.Search;
	local v56 = false;
	if l__Search__55.Query.Text ~= "" then
		v56 = tostring(l__Search__55.Query.Text) ~= nil;
	end;
	local v57 = v56 and tostring(l__Search__55.Query.Text) or nil;
	local v58 = 0;
	local v59 = v1.Shared.SortPets(u5.Storage.Pets);
	local v60, v61, v62 = pairs(v59);
	while true do
		local v63, v64 = v60(v61, v62);
		if v63 then

		else
			break;
		end;
		local l__uid__65 = v64.uid;
		local v66 = l__Pets__15:FindFirstChild(l__uid__65);
		if not v66 then
			v58 = v58 + 1;
			if v58 % 250 == 0 then
				v1.Heartbeat();
			end;
			v66 = v1.Assets.UI.Inventory.Pet:Clone();
			v66.Name = l__uid__65;
			v66:SetAttribute("PetId", l__uid__65);
			v1.PetUI.Create(v66, l__uid__65, v64);
			v1.GUIFX.ButtonFX(v66);
			v66.Parent = l__Pets__15;
			v66.Activated:Connect(function()
				if not u13 then
					if u8 then
						u13 = true;
						SelectPet(u7, l__uid__65);
						UpdateBank();
						UpdateWithdraw();
						u13 = false;
					end;
				end;
			end);
		end;
		v66.LayoutOrder = v63;
		if u14 then
			local v67 = 1.5;
		else
			v67 = 3.5;
		end;
		v66.Level:FindFirstChildOfClass("UIStroke").Thickness = v67;
		local v68 = u8 and v1.Functions.SearchArray(u7, l__uid__65);
		if v68 then
			if not v66.Equipped.Visible then
				v66.Equipped.Size = UDim2.new(0.8, 0, 0.8, 0);
				v1.Functions.FastTween(v66.Equipped, {
					Size = UDim2.new(0.4, 0, 0.4, 0)
				}, { 0.25, "Back", "Out" });
			end;
		end;
		v66.Equipped.Visible = v68;
		v66.BackgroundColor3 = v68 and Color3.fromRGB(69, 239, 69) or Color3.fromRGB(59, 177, 252);
		if v56 then
			v66.Visible = string.find(string.lower(v1.Directory.Pets[v64.id].name), string.lower(v57), 1, true) ~= nil and v68;
		else
			v66.Visible = true;
		end;
		v54[l__uid__65] = true;	
	end;
	local v69, v70, v71 = ipairs(l__Pets__15:GetChildren());
	while true do
		local v72, v73 = v69(v70, v71);
		if v72 then

		else
			break;
		end;
		v71 = v72;
		local v74 = v73:GetAttribute("PetId");
		if v74 then
			if not v54[v74] then
				v73:Destroy();
			end;
		end;	
	end;
	l__Bank__43.NoPets.Text = "Bank is empty. Deposit some pets! \240\159\153\130";
	l__Bank__43.NoPets.Visible = #v59 <= 0;
	l__Balance__44.Amount.Text = v1.Functions.NumberShorten(u5.Storage.Currency.Diamonds, false);
	l__Top__45.PetsAm.Text = #v59 .. " Pets";
	if u14 then
		local v75 = "rbxassetid://6958935961";
	else
		v75 = "rbxassetid://6958936066";
	end;
	l__Top__45.Grid.Image = v75;
	BankScrolling();
	v46(false);
end;
local u16 = 0;
local u17 = false;
local u18 = false;
local l__Bank__19 = v1.Assets.UI.Bank;
local u20 = {};
local u21 = Random.new();
local u22 = {};
function UpdateSide()
	local l__Holder__76 = l__Bank__2.Side.Holder;
	u16 = u16 + 1;
	local v77 = 1 - 1;
	while true do
		if v77 == 1 then
			local v78 = "_BanksLoading";
		else
			v78 = "_InvitesLoading";
		end;
		local v79 = l__Holder__76:FindFirstChild(v78);
		if v77 == 1 then
			if u17 then
				if v77 == 2 then
					if not u18 then
						if not v79 then
							local v80 = l__Bank__19.Side.Loading:Clone();
							if v77 == 1 then
								local v81 = 2;
							else
								v81 = 101;
							end;
							v80.LayoutOrder = v81;
							if v77 == 1 then
								local v82 = "_BanksLoading";
							else
								v82 = "_InvitesLoading";
							end;
							v80.Name = v82;
							v80.Parent = l__Holder__76;
							v1.GIF.Create(v80.GIF, { 100, 100 }, { 5, 6 }, 28, 0.65, true);
						end;
					elseif v79 then
						v79:Destroy();
					end;
				elseif v79 then
					v79:Destroy();
				end;
			elseif not v79 then
				v80 = l__Bank__19.Side.Loading:Clone();
				if v77 == 1 then
					v81 = 2;
				else
					v81 = 101;
				end;
				v80.LayoutOrder = v81;
				if v77 == 1 then
					v82 = "_BanksLoading";
				else
					v82 = "_InvitesLoading";
				end;
				v80.Name = v82;
				v80.Parent = l__Holder__76;
				v1.GIF.Create(v80.GIF, { 100, 100 }, { 5, 6 }, 28, 0.65, true);
			end;
		elseif v77 == 2 then
			if not u18 then
				if not v79 then
					v80 = l__Bank__19.Side.Loading:Clone();
					if v77 == 1 then
						v81 = 2;
					else
						v81 = 101;
					end;
					v80.LayoutOrder = v81;
					if v77 == 1 then
						v82 = "_BanksLoading";
					else
						v82 = "_InvitesLoading";
					end;
					v80.Name = v82;
					v80.Parent = l__Holder__76;
					v1.GIF.Create(v80.GIF, { 100, 100 }, { 5, 6 }, 28, 0.65, true);
				end;
			elseif v79 then
				v79:Destroy();
			end;
		elseif v79 then
			v79:Destroy();
		end;
		if 0 <= 1 then
			if v77 < 2 then

			else
				break;
			end;
		elseif 2 < v77 then

		else
			break;
		end;
		v77 = v77 + 1;	
	end;
	if u17 then
		local v83 = false;
		local v84, v85, v86 = ipairs(u20);
		while true do
			local v87, v88 = v84(v85, v86);
			if v87 then

			else
				break;
			end;
			local l__BUID__89 = v88.BUID;
			local l__Owner__90 = v88.Owner;
			local v91 = l__Owner__90 == (v1.LocalPlayer:GetAttribute("CustomUserId") or v1.LocalPlayer.UserId);
			local v92 = l__Holder__76:FindFirstChild(l__BUID__89);
			if not v92 then
				if v91 then
					v92 = l__Bank__19.Side.MyBank:Clone();
					v92.LayoutOrder = 2;
				else
					v92 = l__Bank__19.Side.Account:Clone();
					v92.LayoutOrder = 10;
					coroutine.wrap(function()
						v92.Owner.Text = "...";
						v92.Owner.Text = "@" .. v1.Functions.UserIdToUsername(l__Owner__90) and "???";
					end)();
				end;
				v92.Name = l__BUID__89;
				v92.Parent = l__Holder__76;
				v1.GUIFX.ButtonFX(v92);
				v92.Activated:Connect(function()
					if not u13 then
						u13 = true;
						v1.Audio.Play({ "rbxassetid://8168486176", "rbxassetid://8168485794" }, script, u21:NextNumber(0.95, 1.01), 0.5);
						UpdateBank(l__BUID__89);
						u13 = false;
					end;
				end);
			end;
			v92:SetAttribute("Tick", u16);
			if u4 and u5.BUID == l__BUID__89 then
				v92.Image = "rbxassetid://8121303915";
				v92.HoverImage = "rbxassetid://8121307910";
			else
				v92.Image = "rbxassetid://6869680115";
				v92.HoverImage = "rbxassetid://6903539993";
			end;
			v83 = v83 and v91;		
		end;
		local l___BuyBankButton__93 = l__Holder__76:FindFirstChild("_BuyBankButton");
		if not v83 then
			if not l___BuyBankButton__93 then
				local v94 = l__Bank__19.Side.BuyAccount:Clone();
				v94.LayoutOrder = 2;
				v94.Name = "_BuyBankButton";
				v94.Parent = l__Holder__76;
				v1.GUIFX.ButtonFX(v94);
				v94.Activated:Connect(function()
					if not u13 then
						u13 = true;
						BuyBank();
						u13 = false;
					end;
				end);
			elseif v83 then
				if l___BuyBankButton__93 then
					l___BuyBankButton__93:Destroy();
				end;
			end;
		elseif v83 then
			if l___BuyBankButton__93 then
				l___BuyBankButton__93:Destroy();
			end;
		end;
	end;
	if u18 then
		local v95 = 0 < #u22;
		if v95 then
			local v96, v97, v98 = ipairs(u22);
			while true do
				local v99, v100 = v96(v97, v98);
				if v99 then

				else
					break;
				end;
				v98 = v99;
				local l__BUID__101 = v100.BUID;
				local v102 = l__Holder__76:FindFirstChild("INVITE-" .. l__BUID__101);
				if not v102 then
					v102 = l__Bank__19.Side.Invite:Clone();
					v102.Name = "INVITE-" .. l__BUID__101;
					coroutine.wrap(function()
						v102.Player.Text = "...";
						v102.Player.Text = "@" .. v1.Functions.UserIdToUsername(v100.Sender) and "???";
					end)();
					v102.LayoutOrder = v100.Timestamp;
					v102.Parent = l__Holder__76;
					v1.GUIFX.ButtonFX(v102);
					v102.Activated:Connect(function()
						if not u13 then
							u13 = true;
							DecideInvite(v100.BUID);
							u13 = false;
						end;
					end);
				end;
				v102:SetAttribute("Tick", u16);			
			end;
		end;
		local l___NoInvites__103 = l__Holder__76:FindFirstChild("_NoInvites");
		if not v95 then
			if not l___NoInvites__103 then
				local v104 = l__Bank__19.Side.Desc:Clone();
				v104.Title.Text = "No invites pending.";
				v104.Name = "_NoInvites";
				v104.LayoutOrder = 101;
				v104.Parent = l__Holder__76;
			elseif v95 then
				if l___NoInvites__103 then
					l___NoInvites__103:Destroy();
				end;
			end;
		elseif v95 then
			if l___NoInvites__103 then
				l___NoInvites__103:Destroy();
			end;
		end;
	end;
	local v105, v106, v107 = ipairs(l__Holder__76:GetChildren());
	while true do
		local v108, v109 = v105(v106, v107);
		if v108 then

		else
			break;
		end;
		v107 = v108;
		local v110 = v109:GetAttribute("Tick");
		if v110 then
			if v110 ~= u16 then
				v109:Destroy();
			end;
		end;	
	end;
	l__Holder__76:FindFirstChild("_Invites").Title.Text = 1 <= #u22 and "Invites (" .. #u22 .. "/50)" or "Invites";
	l__Holder__76:FindFirstChild("_Banks").Title.Text = 1 <= #u20 and "Banks (" .. #u20 .. "/5)" or "Banks";
	SideScrolling();
end;
local u23 = v1.Network.Invoke("Get Bank OSTime");
local l__Settings__24 = l__Bank__2.Container.Settings;
function UpdateHistory()
	local function v111(p9)
		local l__kind__112 = p9.kind;
		local v113 = { "%s deposited %s pets & %s Diamonds.", "%s withdrew %s pets & %s Diamonds.", "%s was invited.", "%s was kicked.", "%s left!", "%s joined!", "Upgraded to Tier %s.", "Collected %s Diamonds." };
		local v114 = nil;
		if l__kind__112 ~= 1 then
			if l__kind__112 == 2 then
				v114 = string.format(v113[l__kind__112], v1.Functions.UserIdToUsername(p9.sender), v1.Functions.Commas(p9.pets), v1.Functions.NumberShorten(p9.diamonds and 0));
			elseif l__kind__112 ~= 3 then
				if l__kind__112 ~= 4 then
					if l__kind__112 ~= 5 then
						if l__kind__112 == 6 then
							v114 = string.format(v113[l__kind__112], v1.Functions.UserIdToUsername(p9.target or p9.sender));
						elseif l__kind__112 ~= 7 then
							if l__kind__112 == 8 then
								v114 = string.format(v113[l__kind__112], v1.Functions.NumberShorten(p9.amount and 0));
							end;
						else
							v114 = string.format(v113[l__kind__112], v1.Functions.NumberShorten(p9.amount and 0));
						end;
					else
						v114 = string.format(v113[l__kind__112], v1.Functions.UserIdToUsername(p9.target or p9.sender));
					end;
				else
					v114 = string.format(v113[l__kind__112], v1.Functions.UserIdToUsername(p9.target or p9.sender));
				end;
			else
				v114 = string.format(v113[l__kind__112], v1.Functions.UserIdToUsername(p9.target or p9.sender));
			end;
		else
			v114 = string.format(v113[l__kind__112], v1.Functions.UserIdToUsername(p9.sender), v1.Functions.Commas(p9.pets), v1.Functions.NumberShorten(p9.diamonds and 0));
		end;
		local v115 = u23 - p9.ts;
		local v116 = v1.Functions.TimeString(v115) .. " ago";
		if v115 <= 120 then
			v116 = "Just now";
		end;
		return v114, v116;
	end;
	local l__History__117 = l__Settings__24.History;
	local v118, v119, v120 = ipairs(l__History__117.Logs:GetChildren());
	while true do
		local v121, v122 = v118(v119, v120);
		if v121 then

		else
			break;
		end;
		v120 = v121;
		if v122.ClassName == "Frame" then
			v122:Destroy();
		end;	
	end;
	local l__History__123 = u5.History;
	local v124, v125, v126 = ipairs(l__History__123);
	while true do
		local v127, v128 = v124(v125, v126);
		if v127 then

		else
			break;
		end;
		v126 = v127;
		local v129 = l__Bank__19.History.HistoryLog:Clone();
		v129.LayoutOrder = v127;
		v129.desc.Text = "Loading...";
		v129.date.Text = "";
		v129.Name = "Log" .. v127;
		v129.Parent = l__History__117.Logs;
		coroutine.wrap(function()
			local v130, v131 = v111(v128);
			if v129 then
				if v129.Parent then
					v129.desc.Text = v130;
					v129.date.Text = v131;
				end;
			end;
		end)();	
	end;
	if #l__History__123 <= 0 then
		local v132 = l__Bank__19.History.HistoryLog:Clone();
		v132.LayoutOrder = 1;
		v132.desc.Text = "No recent history";
		v132.Name = "Log1";
		v132.Parent = l__History__117.Logs;
	end;
end;
function UpdateMembers()
	local l__List__133 = l__Settings__24.Members.Members.List;
	local v134, v135, v136 = ipairs(l__List__133:GetChildren());
	while true do
		local v137, v138 = v134(v135, v136);
		if v137 then

		else
			break;
		end;
		v136 = v137;
		if v138.ClassName == "Frame" then
			v138:Destroy();
		end;	
	end;
	local v139 = l__Bank__19.Settings.Owner:Clone();
	v139.Username.Text = v1.LocalPlayer.Name;
	v139.LayoutOrder = 1;
	v139.Parent = l__List__133;
	local l__Players__140 = u5.Players;
	local v141, v142, v143 = ipairs(l__Players__140);
	while true do
		local v144, v145 = v141(v142, v143);
		if v144 then

		else
			break;
		end;
		v143 = v144;
		local v146 = l__Bank__19.Settings.Member:Clone();
		v146.LayoutOrder = v144 + 1;
		local u25 = nil;
		coroutine.wrap(function()
			u25 = v1.Functions.UserIdToUsername(v145);
			v146.Username.Text = "@" .. u25 and "???";
		end)();
		v146.Parent = l__List__133;
		v1.GUIFX.ButtonFX(v146.Kick);
		v146.Kick.Activated:Connect(function()
			if not u13 then
				u13 = true;
				KickMember(v145, "@" .. u25 and "[UNKNOWN PLAYER]");
				u13 = false;
			end;
		end);	
	end;
	local v147 = v1.Directory.Banks[u5.Tier].MaxPlayers - (#l__Players__140 + 1);
	local v148 = math.max(6 - (#l__Players__140 + 1) - v147, 0);
	local v149 = 1 - 1;
	while true do
		local v150 = l__Bank__19.Settings.MemberEmpty:Clone();
		v150.LayoutOrder = 20 + v149;
		v150.Parent = l__List__133;
		if 0 <= 1 then
			if v149 < v147 then

			else
				break;
			end;
		elseif v147 < v149 then

		else
			break;
		end;
		v149 = v149 + 1;	
	end;
	local v151 = 1 - 1;
	while true do
		local v152 = l__Bank__19.Settings.MemberLocked:Clone();
		v152.LayoutOrder = 100 + v151;
		v152.Parent = l__List__133;
		if 0 <= 1 then
			if v151 < v148 then

			else
				break;
			end;
		elseif v148 < v151 then

		else
			break;
		end;
		v151 = v151 + 1;	
	end;
end;
function UpdateUpgrades()
	local l__Upgrades__153 = l__Settings__24.Upgrades;
	local v154 = v1.Directory.Banks[u5.Tier];
	local v155 = v1.Directory.Banks[u5.Tier + 1];
	local v156 = not v155;
	l__Upgrades__153.CostFrame.isMax.Visible = v156;
	l__Upgrades__153.CostFrame.Cost.Visible = not v156;
	l__Upgrades__153.CostFrame.Currency.Visible = not v156;
	l__Upgrades__153.Buttons.Visible = not v156;
	l__Upgrades__153.Info.Current.Tier.Text = "Tier " .. v154.Tier;
	l__Upgrades__153.Info.Current.Title.Text = v154.Title;
	if not v156 then
		l__Upgrades__153.Info.New.Tier.Text = "Tier " .. v155.Tier;
		l__Upgrades__153.Info.New.Title.Text = v155.Title;
		l__Upgrades__153.CostFrame.Cost.Text = v1.Functions.NumberShorten(v155.Cost, false);
		if v155.ProductId ~= 0 then
			l__Upgrades__153.Buttons.BuyRobux.Robux.Text = v1.Functions.Commas(v1.Functions.GetPrice(v155.ProductId, true));
			l__Upgrades__153.Buttons.BuyRobux.Visible = true;
		else
			l__Upgrades__153.Buttons.BuyRobux.Visible = false;
		end;
	else
		l__Upgrades__153.Info.New.Tier.Text = "Max";
		l__Upgrades__153.Info.New.Title.Text = "You have the best bank!";
	end;
	local v157, v158, v159 = ipairs(l__Upgrades__153.Stats:GetChildren());
	while true do
		local v160, v161 = v157(v158, v159);
		if v160 then

		else
			break;
		end;
		v159 = v160;
		if v161.ClassName == "Frame" then
			if v161.Name == "MaxDiamonds" then
				v161.Old.Amount.Text = v1.Functions.NumberShorten(v154.MaxDiamonds, false) .. " Cap";
				if v156 then
					local v162 = "Max";
				else
					v162 = v1.Functions.NumberShorten(v155.MaxDiamonds, false) .. " Cap";
				end;
				v161.New.Amount.Text = v162;
			elseif v161.Name == "Interest" then
				if v154.Interest == 25000000000 then
					local v163 = "None";
				else
					v163 = v154.Interest .. "%";
				end;
				v161.Old.Amount.Text = v163;
				if v156 then
					local v164 = "Max";
				else
					v164 = v155.Interest .. "%";
				end;
				v161.New.Amount.Text = v164;
			elseif v161.Name == "MaxPlayers" then
				v161.Old.Amount.Text = v154.MaxPlayers .. " Players";
				if v156 then
					local v165 = "Max";
				else
					v165 = v155.MaxPlayers .. " Players";
				end;
				v161.New.Amount.Text = v165;
			elseif v161.Name == "PetSlots" then
				v161.Old.Amount.Text = v154.PetSlots .. " Pets";
				if v156 then
					local v166 = "Max";
				else
					v166 = v155.PetSlots .. " Pets";
				end;
				v161.New.Amount.Text = v166;
			end;
		end;	
	end;
end;
function UpdateSettings()
	if not u4 then
		return;
	end;
	UpdateUpgrades();
	UpdateHistory();
	UpdateMembers();
	SwitchWindow("Settings");
end;
function SelectPet(p10, p11)
	local v167, v168, v169 = ipairs(p10);
	while true do
		local v170, v171 = v167(v168, v169);
		if v170 then

		else
			break;
		end;
		v169 = v170;
		if v171 == p11 then
			v1.Audio.Play("rbxassetid://7139317909", script, u21:NextNumber(0.95, 1.05), 0.75);
			table.remove(p10, v170);
			return;
		end;	
	end;
	if #p10 < v1.Shared.BankMaxPetsPerTransaction then
		v1.Audio.Play("rbxassetid://7139317934", script, u21:NextNumber(0.95, 1.05), 0.75);
		table.insert(p10, p11);
	end;
end;
local u26 = 0;
function UpdateDeposit()
	l__Bank__2.Container.Visible = not u3;
	l__Bank__2.Side.Visible = not u3;
	l__Bank__2.Deposit.Visible = u3;
	local v172 = v1.Save.Get();
	if not v172 then
		return;
	end;
	local l__Pets__173 = l__Bank__2.Deposit.Pets;
	local l__Diamonds__174 = l__Bank__2.Deposit.Bottom.Diamonds;
	if not u3 then
		u2 = {};
		u1 = 0;
		l__Diamonds__174.Input.Text = "";
		local v175, v176, v177 = ipairs(l__Pets__173:GetChildren());
		while true do
			local v178, v179 = v175(v176, v177);
			if v178 then

			else
				break;
			end;
			v177 = v178;
			if v179.ClassName == "Frame" then
				v179:Destroy();
			end;		
		end;
		return;
	end;
	local l__Search__180 = l__Bank__2.Deposit.Top.Search;
	local v181 = false;
	if l__Search__180.Query.Text ~= "" then
		v181 = tostring(l__Search__180.Query.Text) ~= nil;
	end;
	local v182 = v181 and tostring(l__Search__180.Query.Text) or nil;
	u26 = u26 + 1;
	local v183, v184, v185 = ipairs((v1.Shared.SortPets(v172.Pets)));
	while true do
		local v186, v187 = v183(v184, v185);
		if v186 then

		else
			break;
		end;
		v185 = v186;
		local l__uid__188 = v187.uid;
		local v189 = l__Pets__173:FindFirstChild(l__uid__188);
		local v190 = v1.Functions.SearchArray(u2, l__uid__188);
		if not v187.nftData then
			if not v189 then
				v189 = v1.Assets.UI.Inventory.Pet:Clone();
				v189.Name = l__uid__188;
				v1.PetUI.Create(v189, l__uid__188);
				v1.GUIFX.ButtonFX(v189);
				v189.Activated:Connect(function()
					if not u13 then
						u13 = true;
						SelectPet(u2, l__uid__188);
						UpdateDeposit();
						u13 = false;
					end;
				end);
			end;
			local v191 = u3 and v1.Functions.SearchArray(u2, l__uid__188);
			if v191 then
				if not v189.Equipped.Visible then
					v189.Equipped.Size = UDim2.new(0.8, 0, 0.8, 0);
					v1.Functions.FastTween(v189.Equipped, {
						Size = UDim2.new(0.4, 0, 0.4, 0)
					}, { 0.25, "Back", "Out" });
				end;
			end;
			v189.Equipped.Visible = v191;
			v189.BackgroundColor3 = v191 and Color3.fromRGB(69, 239, 69) or Color3.fromRGB(59, 177, 252);
			if v182 then
				v189.Visible = string.find(string.lower(v1.Directory.Pets[v187.id].name), string.lower(v182), 1, true) ~= nil and v191;
			else
				v189.Visible = true;
			end;
			v189.LayoutOrder = v186;
			v189:SetAttribute("Tick", u26);
			v189.Parent = l__Pets__173;
		end;	
	end;
	local v192, v193, v194 = ipairs(l__Pets__173:GetChildren());
	while true do
		local v195, v196 = v192(v193, v194);
		if v195 then

		else
			break;
		end;
		v194 = v195;
		local v197 = v196:GetAttribute("Tick");
		if v197 then
			if v197 ~= u26 then
				v196:Destroy();
			end;
		end;	
	end;
	local v198 = true;
	if not (1 <= #u2) then
		v198 = 1 <= u1;
	end;
	l__Bank__2.Deposit.Bottom.Ok.ImageColor3 = v198 and Color3.new(1, 1, 1) or Color3.new(0.5, 0.5, 0.5);
	l__Bank__2.Deposit.Bottom.Ok.Label.TextColor3 = l__Bank__2.Deposit.Bottom.Ok.ImageColor3;
	l__Diamonds__174.Input.TextScaled = false;
	l__Diamonds__174.Input.TextScaled = true;
	DepositScrolling();
end;
function UpdateDepositDiamonds()
	local l__Diamonds__199 = l__Bank__2.Deposit.Bottom.Diamonds;
	local v200 = v1.Save.Get();
	if v200 then
		if u3 then
			if u4 then
				local u27 = 0;
				local l__Input__28 = l__Bank__2.Deposit.Bottom.Diamonds.Input;
				pcall(function()
					u27 = math.round(tonumber(l__Input__28.Text));
				end);
				if u27 < 0 then
					u27 = 0;
				end;
				if v200.Diamonds <= u27 then
					u27 = v200.Diamonds;
				end;
				u1 = u27;
				l__Input__28.Text = v1.Functions.Commas(u27);
				v1.Audio.Play(4586418198, script, 1, 0.2);
				v1.GUIFX.FlashText(l__Input__28);
				l__Diamonds__199.Input.TextScaled = false;
				l__Diamonds__199.Input.TextScaled = true;
				UpdateDeposit();
			end;
		end;
	end;
end;
function UpdateWithdraw()
	if not u4 then
		return;
	end;
	local v201 = u5.Owner == (v1.LocalPlayer:GetAttribute("CustomUserId") or v1.LocalPlayer.UserId);
	local l__Bottom__202 = l__Bank__2.Container.Bank.Bottom;
	l__Bottom__202.CancelWithdraw.Visible = u8;
	l__Bottom__202.AcceptWithdraw.Visible = u8;
	l__Bottom__202.Deposit.Visible = not u8;
	l__Bottom__202.Withdraw.Visible = not u8;
	l__Bottom__202.Settings.Visible = not u8 or v201;
	l__Bottom__202.Balance.Visible = not u8;
	l__Bottom__202.BalanceInput.Visible = u8;
	l__Bottom__202.WithdrawMsg.Visible = u8;
	l__Bottom__202.Leave.Visible = not u8 and not v201;
	if u8 then

	else
		u7 = {};
		u6 = 0;
		l__Bottom__202.BalanceInput.Input.Text = "";
		UpdateBank();
		return;
	end;
	local v203 = #u7;
	if 0 < v203 then
		if v1.Shared.BankMaxPetsPerTransaction <= v203 then
			if 1 < v203 then
				local v204 = "s";
			else
				v204 = " (max)";
			end;
			l__Bottom__202.WithdrawMsg.Text = "Withdrawing " .. v1.Functions.Commas(v203) .. " Pet" .. v204;
		else
			if 1 < v203 then
				local v205 = "s";
			else
				v205 = "";
			end;
			l__Bottom__202.WithdrawMsg.Text = "Withdrawing " .. v1.Functions.Commas(v203) .. " Pet" .. v205;
		end;
	else
		l__Bottom__202.WithdrawMsg.Text = "Select Pets to Withdraw";
	end;
	local v206 = true;
	if not (1 <= #u7) then
		v206 = 1 <= u6;
	end;
	l__Bottom__202.AcceptWithdraw.ImageColor3 = v206 and Color3.new(1, 1, 1) or Color3.new(0.5, 0.5, 0.5);
	l__Bottom__202.AcceptWithdraw.Label.TextColor3 = l__Bottom__202.AcceptWithdraw.ImageColor3;
end;
function UpdateWithdrawDiamonds()
	if v1.Save.Get() then
		if u8 then
			if u4 then
				local u29 = 0;
				local l__Input__30 = l__Bank__2.Container.Bank.Bottom.BalanceInput.Input;
				pcall(function()
					u29 = math.round(tonumber(l__Input__30.Text));
				end);
				if u29 < 0 then
					u29 = 0;
				end;
				if u5.Storage.Currency.Diamonds <= u29 then
					u29 = u5.Storage.Currency.Diamonds;
				end;
				u6 = u29;
				l__Input__30.Text = v1.Functions.Commas(u29);
				v1.Audio.Play(4586418198, script, 1, 0.2);
				v1.GUIFX.FlashText(l__Input__30);
				UpdateWithdraw();
			end;
		end;
	end;
end;
function BankScrolling()
	local l__Pets__207 = l__Bank__2.Container.Bank.Pets;
	local v208 = l__Pets__207:FindFirstChildOfClass("UIGridLayout");
	local v209 = l__Pets__207:FindFirstChildOfClass("UIPadding");
	local v210 = v1.Functions.ResolutionScale();
	if v210 <= 0.5 then
		local v211 = 3;
	elseif v210 <= 1 then
		v211 = 4;
	elseif v210 <= 1.3 then
		v211 = 5;
	else
		v211 = 6;
	end;
	if u14 then
		v208.CellPadding = UDim2.new(0, 10, 0, 10);
	else
		v208.CellPadding = UDim2.new(0, 20, 0, 20);
	end;
	if u14 then
		v211 = v211 * 2;
	end;
	local v212 = (l__Pets__207.AbsoluteSize.X - l__Pets__207.ScrollBarThickness - v209.PaddingLeft.Offset - v209.PaddingRight.Offset) / v211 - v208.CellPadding.X.Offset;
	v208.CellSize = UDim2.new(0, v212, 0, v212);
	v208:ApplyLayout();
	if u14 then
		local v213 = 55;
	else
		v213 = 65;
	end;
	l__Pets__207.CanvasSize = UDim2.new(1, 0, 0, v208.AbsoluteContentSize.Y + v213);
end;
function DepositScrolling()
	local l__Pets__214 = l__Bank__2.Deposit.Pets;
	local v215 = l__Pets__214:FindFirstChildOfClass("UIGridLayout");
	local v216 = l__Pets__214:FindFirstChildOfClass("UIPadding");
	local v217 = v1.Functions.ResolutionScale();
	if v217 <= 0.5 then
		local v218 = 4;
	elseif v217 <= 0.7 then
		v218 = 5;
	elseif v217 <= 1 then
		v218 = 6;
	elseif v217 <= 1.2 then
		v218 = 7;
	else
		v218 = 8;
	end;
	local v219 = (l__Pets__214.AbsoluteSize.X - l__Pets__214.ScrollBarThickness - v216.PaddingLeft.Offset - v216.PaddingRight.Offset) / v218 - v215.CellPadding.X.Offset;
	v215.CellSize = UDim2.new(0, v219, 0, v219);
	v215:ApplyLayout();
	l__Pets__214.CanvasSize = UDim2.new(0, v215.AbsoluteContentSize.X, 0, v215.AbsoluteContentSize.Y + 30);
end;
function SideScrolling()
	local l__Holder__220 = l__Bank__2.Side.Holder;
	local v221 = l__Holder__220:FindFirstChildOfClass("UIListLayout");
	local v222 = l__Holder__220:FindFirstChildOfClass("UIPadding");
	v221:ApplyLayout();
	l__Holder__220.CanvasSize = UDim2.new(0, v221.AbsoluteContentSize.X, 0, v221.AbsoluteContentSize.Y + v222.PaddingBottom.Offset + v222.PaddingTop.Offset);
end;
function GetBank(p12)
	local v223, v224 = v1.Network.Invoke("Get Bank", p12);
	if v223 then
		u4 = true;
		u5 = v223;
		return;
	end;
	u4 = false;
	v1.Print("Failed to grab bank (" .. v224 .. ")", true);
	return v224;
end;
function GetMyBanks()
	local v225, v226 = v1.Network.Invoke("Get My Banks");
	if v225 then
		u17 = true;
		u20 = v225;
		return;
	end;
	u17 = false;
	v1.Print("Failed to load banks (" .. v226 .. ")", true);
end;
function GetMyInvites()
	local v227, v228 = v1.Network.Invoke("Get Bank Invites");
	if v227 then
		u18 = true;
		u22 = v227;
		return;
	end;
	u18 = false;
	v1.Print("Failed to get bank invites (" .. v228 .. ")", true);
end;
local u31 = false;
local u32 = nil;
local u33 = nil;
local l__BankLoading__34 = v1.GUI.BankLoading;
local u35 = nil;
function Processing(p13, p14)
	u31 = p13;
	v1.Variables.UsingMachine = u31;
	if u31 then
		if not u32 then
			u32 = v1.GIF.Create(l__Bank__2.Processing.GIF, { 100, 100 }, { 5, 6 }, 28, 0.65, true);
			u33 = v1.GIF.Create(l__BankLoading__34.Loading.GIF, { 100, 100 }, { 5, 6 }, 28, 0.65, true);
			if p14 then
				u35 = v1.Audio.Play("rbxassetid://8167470315", script, 1, 1, nil, nil, true);
			end;
		elseif not u31 then
			if u32 then
				u32();
				u33();
				u32 = nil;
				u33 = nil;
				if u35 then
					u35:Stop();
					u35 = nil;
				end;
			end;
		end;
	elseif not u31 then
		if u32 then
			u32();
			u33();
			u32 = nil;
			u33 = nil;
			if u35 then
				u35:Stop();
				u35 = nil;
			end;
		end;
	end;
	l__BankLoading__34.Gui.Enabled = u31;
	l__Bank__2.Processing.Visible = u31;
end;
function SwitchWindow(p15)
	if p15 == "Settings" then
		SwitchSettingsWindow("Info");
	end;
	local v229, v230, v231 = ipairs(l__Bank__2.Container:GetChildren());
	while true do
		local v232, v233 = v229(v230, v231);
		if v232 then

		else
			break;
		end;
		v231 = v232;
		if v233.ClassName == "Frame" then
			v233.Visible = v233.Name == p15;
		end;	
	end;
	if p15 ~= "Empty" then
		if u4 then

		else
			l__Bank__2.BankTitle.Visible = false;
			l__Bank__2.Title.Visible = true;
			return;
		end;
	else
		l__Bank__2.BankTitle.Visible = false;
		l__Bank__2.Title.Visible = true;
		return;
	end;
	l__Bank__2.BankTitle.Tier.Text = "Tier " .. u5.Tier .. " Bank";
	coroutine.wrap(function()
		l__Bank__2.BankTitle.Owner.Text = "@" .. v1.Functions.UserIdToUsername(u5.Owner) and "???";
	end)();
	l__Bank__2.BankTitle.Visible = true;
	l__Bank__2.Title.Visible = false;
end;
function SwitchSettingsWindow(p16)
	local v234, v235, v236 = ipairs(l__Settings__24:GetChildren());
	while true do
		local v237, v238 = v234(v235, v236);
		if v237 then

		else
			break;
		end;
		v236 = v237;
		if v238.ClassName ~= "Frame" then
			if v238.ClassName == "ScrollingFrame" then
				v238.Visible = p16 == v238.Name;
			end;
		else
			v238.Visible = p16 == v238.Name;
		end;	
	end;
end;
function Reset()
	u8 = false;
	u3 = false;
	u6 = 0;
	u7 = {};
	u1 = 0;
	u2 = {};
	u5 = nil;
	u4 = false;
	u14 = false;
	l__Bank__2.Deposit.Visible = false;
	SwitchWindow("Empty");
	UpdateBank();
	UpdateDeposit();
	UpdateWithdraw();
end;
local l__Top__239 = l__Bank__2.Container.Bank.Top;
local l__Bottom__240 = l__Bank__2.Container.Bank.Bottom;
v1.GUIFX.ButtonFX(l__Top__239.Grid);
l__Top__239.Grid.Activated:Connect(function()
	if not u13 then
		u13 = true;
		u14 = not u14;
		v1.Audio.Play("rbxassetid://7004248320", script, 1, 0.5);
		UpdateBank();
		u13 = false;
	end;
end);
v1.GUIFX.Tooltip(l__Bottom__240.Deposit, "Deposit");
v1.GUIFX.ButtonFX(l__Bottom__240.Deposit);
l__Bottom__240.Deposit.Activated:Connect(function()
	if not u13 then
		u13 = true;
		u3 = not u3;
		UpdateDeposit();
		u13 = false;
	end;
end);
v1.GUIFX.Tooltip(l__Bottom__240.Withdraw, "Withdraw");
v1.GUIFX.ButtonFX(l__Bottom__240.Withdraw);
l__Bottom__240.Withdraw.Activated:Connect(function()
	if not u13 then
		u13 = true;
		u8 = not u8;
		UpdateWithdraw();
		u13 = false;
	end;
end);
v1.GUIFX.ButtonFX(l__Bottom__240.Settings);
v1.GUIFX.Tooltip(l__Bottom__240.Settings, "Settings");
l__Bottom__240.Settings.Activated:Connect(function()
	if not u13 then
		u13 = true;
		UpdateSettings();
		u13 = false;
	end;
end);
v1.GUIFX.ButtonFX(l__Bottom__240.Leave);
l__Bottom__240.Leave.Activated:Connect(function()
	if not u13 then
		u13 = true;
		LeaveBank();
		u13 = false;
	end;
end);
v1.GUIFX.ButtonFX(l__Bottom__240.AcceptWithdraw);
l__Bottom__240.AcceptWithdraw.Activated:Connect(function()
	if not u13 then
		u13 = true;
		Withdraw();
		u13 = false;
	end;
end);
v1.GUIFX.ButtonFX(l__Bottom__240.CancelWithdraw);
l__Bottom__240.CancelWithdraw.Activated:Connect(function()
	if not u13 then
		u13 = true;
		u8 = false;
		UpdateWithdraw();
		u13 = false;
	end;
end);
l__Bottom__240.BalanceInput.Input.FocusLost:Connect(function()
	if u8 then
		UpdateWithdrawDiamonds();
	end;
end);
l__Top__239.Search.Query:GetPropertyChangedSignal("Text"):Connect(function()
	if u4 then
		if l__Top__239.Search.Query.Text ~= "" then
			l__Bank__2.Container.Bank.Pets.CanvasPosition = Vector2.new();
		end;
		UpdateBank();
	end;
end);
v1.GUIFX.ContentScale(l__Settings__24.Info);
v1.GUIFX.ContentScale(l__Settings__24.Upgrades);
v1.GUIFX.ContentScale(l__Settings__24.Members);
v1.GUIFX.ContentScale(l__Settings__24.History);
for v241, v242 in ipairs(l__Settings__24.Info:GetChildren()) do
	local l__Button__243 = v242:FindFirstChild("Button");
	if v242.ClassName == "Frame" and l__Button__243 then
		v1.GUIFX.ButtonFX(l__Button__243);
		l__Button__243.Activated:Connect(function()
			if not u13 then
				u13 = true;
				if v242.Name == "Interest" then
					CollectInterest();
				else
					SwitchSettingsWindow(v242.Name);
				end;
				u13 = false;
			end;
		end);
	end;
end;
v1.GUIFX.ButtonFX(l__Settings__24.Back);
l__Settings__24.Back.Activated:Connect(function()
	if not u13 then
		u13 = true;
		if not l__Settings__24.Info.Visible then
			SwitchSettingsWindow("Info");
		else
			SwitchWindow("Bank");
		end;
		u13 = false;
	end;
end);
local l__Upgrades__244 = l__Settings__24.Upgrades;
v1.GUIFX.ButtonFX(l__Upgrades__244.Buttons.Buy);
l__Upgrades__244.Buttons.Buy.Activated:Connect(function()
	if not u13 then
		u13 = true;
		UpgradeBank(false);
		u13 = false;
	end;
end);
v1.GUIFX.ButtonFX(l__Upgrades__244.Buttons.BuyRobux);
l__Upgrades__244.Buttons.BuyRobux.Activated:Connect(function()
	if not u13 then
		u13 = true;
		UpgradeBank(true);
		u13 = false;
	end;
end);
local l__Members__245 = l__Settings__24.Members;
v1.GUIFX.ButtonFX(l__Members__245.Members.Search.Invite);
l__Members__245.Members.Search.Invite.Activated:Connect(function()
	if not u13 then
		u13 = true;
		local l__Query__246 = l__Members__245.Members.Search.InputField.Query;
		l__Query__246.Text = "(...)";
		InviteToBank(l__Query__246.Text);
		l__Query__246.Text = "";
		u13 = false;
	end;
end);
v1.GUIFX.ButtonFX(l__Members__245.CancelInvites.Button);
l__Members__245.CancelInvites.Button.Activated:Connect(function()
	if not u13 then
		u13 = true;
		CancelOutgoingInvites();
		u13 = false;
	end;
end);
local l__Bottom__247 = l__Bank__2.Deposit.Bottom;
l__Bottom__247.Diamonds.Input.FocusLost:Connect(function()
	if u3 then
		UpdateDepositDiamonds();
	end;
end);
v1.GUIFX.ButtonFX(l__Bottom__247.Cancel);
l__Bottom__247.Cancel.Activated:Connect(function()
	if not u13 then
		u13 = true;
		local v248 = true;
		if #u7 >= 1 or u6 > 0 then
			v248 = v1.Message.New("Are you sure?", true);
		end;
		if v248 then
			u3 = false;
			UpdateDeposit();
		end;
		u13 = false;
	end;
end);
v1.GUIFX.ButtonFX(l__Bottom__247.Ok);
l__Bottom__247.Ok.Activated:Connect(function()
	if not u13 then
		u13 = true;
		Deposit();
		u13 = false;
	end;
end);
l__Bank__2.Deposit.Top.Search.Query:GetPropertyChangedSignal("Text"):Connect(function()
	if u4 then
		if l__Bank__2.Deposit.Top.Search.Query.Text ~= "" then
			l__Bank__2.Deposit.Pets.CanvasPosition = Vector2.new();
		end;
		UpdateDeposit();
	end;
end);
v1.GUIFX.ButtonFX(l__Bank__2.Close);
l__Bank__2.Close.Activated:Connect(function()
	if not u13 then
		l__Bank__2.Gui.Enabled = false;
	end;
end);
v1.GUIFX.ButtonFX(l__Bank__2.Container.Banned.LeaveBank);
l__Bank__2.Container.Banned.LeaveBank.Activated:Connect(function()
	if not u13 then
		u13 = true;
		LeaveBank(u12);
		u13 = false;
	end;
end);
v1.Signal.Fired("Resolution Changed"):Connect(function()
	wait();
	BankScrolling();
	SideScrolling();
	DepositScrolling();
end);
v1.Signal.Fired("Stat Changed"):Connect(function(p17)
	if p17 == "Pets" and u4 then
		UpdateDeposit();
		UpdateBank();
	end;
end);
v1.Signal.Fired("Window Opened"):Connect(function(p18)
	if p18 == l__Bank__2.Gui and not u4 then
		GetMyBanks();
		GetMyInvites();
		UpdateSide();
		UpdateBank();
		UpdateDeposit();
		UpdateWithdraw();
		v1.Audio.Play("rbxassetid://8167469855", script, 1, 0.4);
	end;
end);
v1.Signal.Fired("Window Closed"):Connect(function(p19)
	if u31 or u13 then
		return;
	end;
	if p19 == l__Bank__2.Gui then
		Reset();
	end;
end);
coroutine.wrap(function()
	while true do
		wait(5);
		if l__Bank__2.Gui.Enabled then

			GetMyInvites();
			UpdateSide();
		end;	
	end;
end)();
coroutine.wrap(function()
	while true do
		wait(2);
		if u4 and l__Bank__2.Container.Visible and l__Bank__2.Container.Bank.Visible then
			GetBank(u5.BUID);
			UpdateBank();
		end;	
	end;
end)();
local function u36()
	local v249 = nil;
	local v250 = v1.WorldCmds.GetMap();
	if v250:FindFirstChild("Interactive") then
		v249 = v250.Interactive:FindFirstChild("Bank");
		if not v249 then
			return;
		end;
	else
		return;
	end;
	local v251 = v1.Audio.Play("rbxassetid://8168486040", v249.PrimaryPart, 1, 0.15, nil, nil, true);
	v251.RollOffMaxDistance = 90;
	v251.RollOffMinDistance = 35;
end;
v1.Signal.Fired("World Changed"):Connect(function()
	u36();
end);
